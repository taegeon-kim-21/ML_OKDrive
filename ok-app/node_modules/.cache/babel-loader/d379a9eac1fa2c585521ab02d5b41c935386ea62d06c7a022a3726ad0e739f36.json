{"ast":null,"code":"var _jsxFileName = \"/Users/taegeonkim/2023-2/\\u1106\\u1165\\u1109\\u1175\\u11AB\\u1105\\u1165\\u1102\\u1175\\u11BC/Project/Algo_app/Algo_NIC/ok-app/src/Routes/Upload.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.div`\n  width: 1000px;\n  height: 400px;\n  max-width: 1000px;\n  margin: 20px auto;\n  margin-top: 180px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n_c = Wrapper;\nconst Title = styled.h1`\n  margin-top: 15px;\n  color: ${props => props.theme.gray};\n  font-size: 42px;\n  margin-bottom: 15px;\n`;\n_c2 = Title;\nconst UploadForm = styled.form`\n  width: 800px;\n  height: 180px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n_c3 = UploadForm;\nconst InputButton = styled.div`\n  width: 200px;\n  height: 40px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  padding: 6px 12px;\n  cursor: pointer;\n  background-color: #c3c3c3a2;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  font-size: 18px;\n  font-weight: 400;\n  transition: 0.3s;\n  color: black;\n  opacity: 0.7;\n  &:hover {\n    opacity: 1;\n  }\n`;\nconst FileLog = styled.div`\n  margin-top: 10px;\n  color: #555;\n  font-style: italic;\n`;\n_c4 = FileLog;\nconst GenerateButton = styled.div`\n  width: 200px;\n  height: 40px;\n  background-color: #007bff;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 400;\n  margin-top: 10px;\n  opacity: 0.8;\n  transition: 0.3s;\n  &:hover {\n    opacity: 1;\n  }\n`;\nconst Footer = styled.footer`\n  font-size: 18px;\n  text-align: center;\n  font-weight: 400;\n  color: #007bff;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\n// ... (Styled 컴포넌트 정의는 동일하게 유지)\n_c5 = Footer;\nconst FileInput = styled.input`\n  display: none;\n`;\n_c6 = FileInput;\nconst CustomFileUpload = styled.label`\n  // 여기에 custom file upload 스타일을 추가하세요\n`;\n_c7 = CustomFileUpload;\nconst SubmitButton = styled.button`\n  // 여기에 submit button 스타일을 추가하세요\n`;\n_c8 = SubmitButton;\nfunction Upload() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileLog, setFileLog] = useState(\"No image selected.\");\n  const [translatedCaption, setTranslatedCaption] = useState(\"\");\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setFileLog(`Selected Image: ${file.name}`);\n      setImagePreviewUrl(URL.createObjectURL(file));\n    } else {\n      setFileLog(\"No image selected.\");\n    }\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!selectedFile) {\n      alert(\"Please select an image to upload.\");\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n    try {\n      const response = await axios.post(\"/api/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      });\n      setTranslatedCaption(response.data.translated_caption);\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        children: \"Image Captioning with AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UploadForm, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(CustomFileUpload, {\n          htmlFor: \"image-upload\",\n          children: \"Choose an Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n          id: \"image-upload\",\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleFileChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FileLog, {\n          children: fileLog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n          type: \"submit\",\n          children: \"Generate Caption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), translatedCaption && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Translated Caption:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: translatedCaption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), imagePreviewUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imagePreviewUrl,\n          alt: \"Uploaded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {\n      children: \"Return to Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Upload, \"kRxflzEYiEF1oReKK/MRBvw8Jck=\");\n_c9 = Upload;\nexport default Upload;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"UploadForm\");\n$RefreshReg$(_c4, \"FileLog\");\n$RefreshReg$(_c5, \"Footer\");\n$RefreshReg$(_c6, \"FileInput\");\n$RefreshReg$(_c7, \"CustomFileUpload\");\n$RefreshReg$(_c8, \"SubmitButton\");\n$RefreshReg$(_c9, \"Upload\");","map":{"version":3,"names":["React","useState","styled","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Wrapper","div","_c","Title","h1","props","theme","gray","_c2","UploadForm","form","_c3","InputButton","FileLog","_c4","GenerateButton","Footer","footer","_c5","FileInput","input","_c6","CustomFileUpload","label","_c7","SubmitButton","button","_c8","Upload","_s","selectedFile","setSelectedFile","fileLog","setFileLog","translatedCaption","setTranslatedCaption","imagePreviewUrl","setImagePreviewUrl","handleFileChange","event","file","target","files","name","URL","createObjectURL","handleSubmit","preventDefault","alert","formData","FormData","append","response","post","headers","data","translated_caption","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","id","type","accept","onChange","required","src","alt","_c9","$RefreshReg$"],"sources":["/Users/taegeonkim/2023-2/머신러닝/Project/Algo_app/Algo_NIC/ok-app/src/Routes/Upload.tsx"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\n\nconst Wrapper = styled.div`\n  width: 1000px;\n  height: 400px;\n  max-width: 1000px;\n  margin: 20px auto;\n  margin-top: 180px;\n  padding: 20px;\n  background-color: #f9f9f9;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  margin-top: 15px;\n  color: ${(props) => props.theme.gray};\n  font-size: 42px;\n  margin-bottom: 15px;\n`;\n\nconst UploadForm = styled.form`\n  width: 800px;\n  height: 180px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n\nconst InputButton = styled.div`\n  width: 200px;\n  height: 40px;\n  border: 1px solid #ccc;\n  display: inline-block;\n  padding: 6px 12px;\n  cursor: pointer;\n  background-color: #c3c3c3a2;\n  border-radius: 4px;\n  margin-bottom: 10px;\n  font-size: 18px;\n  font-weight: 400;\n  transition: 0.3s;\n  color: black;\n  opacity: 0.7;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst FileLog = styled.div`\n  margin-top: 10px;\n  color: #555;\n  font-style: italic;\n`;\n\nconst GenerateButton = styled.div`\n  width: 200px;\n  height: 40px;\n  background-color: #007bff;\n  color: white;\n  padding: 10px 20px;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: 400;\n  margin-top: 10px;\n  opacity: 0.8;\n  transition: 0.3s;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst Footer = styled.footer`\n  font-size: 18px;\n  text-align: center;\n  font-weight: 400;\n  color: #007bff;\n  text-decoration: none;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\n\n// ... (Styled 컴포넌트 정의는 동일하게 유지)\n\nconst FileInput = styled.input`\n  display: none;\n`;\n\nconst CustomFileUpload = styled.label`\n  // 여기에 custom file upload 스타일을 추가하세요\n`;\n\nconst SubmitButton = styled.button`\n  // 여기에 submit button 스타일을 추가하세요\n`;\n\nfunction Upload() {\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [fileLog, setFileLog] = useState(\"No image selected.\");\n  const [translatedCaption, setTranslatedCaption] = useState(\"\");\n  const [imagePreviewUrl, setImagePreviewUrl] = useState(\"\");\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    if (file) {\n      setSelectedFile(file);\n      setFileLog(`Selected Image: ${file.name}`);\n      setImagePreviewUrl(URL.createObjectURL(file));\n    } else {\n      setFileLog(\"No image selected.\");\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (!selectedFile) {\n      alert(\"Please select an image to upload.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"image\", selectedFile);\n\n    try {\n      const response = await axios.post(\"/api/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      setTranslatedCaption(response.data.translated_caption);\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n    }\n  };\n\n  return (\n    <>\n      <Wrapper>\n        <Title>Image Captioning with AI</Title>\n        <UploadForm onSubmit={handleSubmit}>\n          <CustomFileUpload htmlFor=\"image-upload\">\n            Choose an Image\n          </CustomFileUpload>\n          <FileInput\n            id=\"image-upload\"\n            type=\"file\"\n            accept=\"image/*\"\n            onChange={handleFileChange}\n            required\n          />\n          <FileLog>{fileLog}</FileLog>\n          <SubmitButton type=\"submit\">Generate Caption</SubmitButton>\n        </UploadForm>\n        {translatedCaption && (\n          <div>\n            <h3>Translated Caption:</h3>\n            <p>{translatedCaption}</p>\n            {imagePreviewUrl && (\n              <img src={imagePreviewUrl} alt=\"Uploaded\" />\n            )}\n          </div>\n        )}\n      </Wrapper>\n      <Footer>Return to Home</Footer>\n    </>\n  );\n}\n\nexport default Upload;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}